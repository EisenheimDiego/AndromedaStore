version: "3.9"

services:
  ui:
    image: eisenheimdiego/store_fe:latest
    container_name: ui
    environment:
      #- API=192.168.1.12:57600
      - NODE_ENV=10.59.19.211:8080      
    ports:
      - "3000:3000"
#    networks:
#      internal_net:
#        ipv4_address: 192.168.1.11

  api:
    image: eisenheimdiego/store_api:latest
    container_name: api
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
    ports:
      - "8080:8080"
#    networks:
#      internal_net:
#        ipv4_address: 192.168.1.12
    depends_on:
      mysql:
        condition: service_healthy
#    entrypoint: ["./wait-for-it.sh", "mysql:3306", "--", "sh", "-c", "sleep 5 && your_api_start_command_here"]

networks:
  internal_net:
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.1.0/24
